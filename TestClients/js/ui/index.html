<html lang="en">
    <head>
        <title>Azure Communication Services Chat</title>
        <meta charset="utf-8">
    </head>
    <body>
        <script src="https://github.com/Azure/communication-ui-library/releases/latest/download/chatComposite.js"></script>
        <script src="client.js"></script>
        <div id="chat-container" style="height: 500px"></div>
        <script type="module">
            // todo: UI to create user, create chat thread, add participants, generate or set displayname

            const { identity, accessToken } = await createUser();
            const {chatThread } = await createChatThread(accessToken.token, "The weather forecast ğŸ˜¶â€ğŸŒ«ï¸");

            const chatAdapter = await chatComposite.loadChatComposite({
                displayName: "Emil the Emulator",
                threadId: chatThread.id,
                userId: identity.id,
                endpoint: "https://localhost/",
                token: accessToken.token
            },
            document.getElementById('chat-container')
        );
        </script>
    </body>
</html>